<!doctype html>
<html lang="pt-br">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Yodacast</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.7/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-LN+7fdVzj6u52u30Kp6M/trliBMCMKTyK833zpbD+pXdCLuTusPj697FH4R/5mcr" crossorigin="anonymous">
    <link rel="stylesheet" href="style.css">
  </head>
  <body>


    <div class="container-fluid">
      <div class="row d-flex justify-content-center">
        <div class="col-4">
          <div class="card shadow p-3 m-2">
            <form>
              <div class="mb-3">
                <label for="pergunta">Sua pergunta digite:</label>
                <input type="text" name="pergunta" id="pergunta" placeholder="...">
              </div>
              <button class="btn btn-dark" onclick="perguntar()">Perguntar</button>
            </form>
          </div>
        </div>
      </div>
    </div>

    <div class="container-fluid">
      <div class="row d-flex justify-content-center">
        <div class="col-8 ">
          <div class="card shadow p-3 m-2">Meu texto de pergunta</div>
          <div class="card shadow p-3 m-2">Resposta do Yoda</div>
        </div>
      </div>
    </div>


    <script>
      let pergunta = document.getElementById('pergunta').value;
      const KEY = `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`;
      const URL = `https://api.openai.com/v1/chat/completions`;


      fetch(URL, {
        method: 'POST', //post, get, delete, put
        headers: {
          'Content-Type': 'application/json',
          'Authorization': `Bearer ${KEY}`
        },
        body: JSON.stringify({
          model: 'gpt-4o-mini',
          messages: [
            { role: 'system', content: 'Me responda como se vocÃª fosse o metre Yoda, de forma curta e clara'},
            { role: 'user', content: pergunta },
          ],
          max_tokens: 50
        })
      })
      .then(resp => resp.json())
      .then(resp => {
        console.log(resp);
      })
      .catch(eroo => {
        console.log(erro);
      })
      .finally(()=>{
        console.log('Finalizado');
      })
    </script>
    

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.7/dist/js/bootstrap.bundle.min.js" integrity="sha384-ndDqU0Gzau9qJ1lfW4pNLlhNTkCfHzAVBReH9diLvGRem5+R9g2FzA8ZGN954O5Q" crossorigin="anonymous"></script>
  </body>
</html>